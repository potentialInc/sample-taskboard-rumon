#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸš€ Running pre-push checks..."
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"

# 1. Type checking
echo "ğŸ“ [1/3] Type checking..."
npm run type-check || {
  echo "âŒ Type checking failed. Fix TypeScript errors."
  exit 1
}

# 2. Linting (full project)
echo "ğŸ” [2/3] Linting entire project..."
npm run lint:check || {
  echo "âŒ Linting failed. Run 'npm run lint' to auto-fix."
  exit 1
}

# 3. Building project
echo "ğŸ—ï¸  [3/3] Building project..."
npm run build || {
  echo "âŒ Build failed. Fix build errors."
  exit 1
}

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "âœ… All pre-push checks passed! Ready to push."
